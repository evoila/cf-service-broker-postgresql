<div class="container" style="padding: 20px 0 20px 0">
  <p><a class="link" routerLink="/backup"><< Go Back</a></p>
  <form #form="ngForm" action="#" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="frequency">Frequency</label>
      <input type="text" class="form-control" name="frequency" #frequency="ngModel" [(ngModel)]="plan.frequency">
      <small id="frequency" class="form-text text-muted">OpenStack API Keystone URL</small>
      <div [hidden]="frequency.valid || frequency.pristine" class="alert alert-danger">
          Frequency definition is required
        </div>
    </div>
    <div class="form-group">
      <label for="retentionStyle">Retention Style</label>
      <select class="form-control" id="retentionStyle" name="retentionStyle" #retentionStyle="ngModel" [(ngModel)]="plan.retentionStyle">
        <option value="ALL">ALL</option>
        <option value="DAYS">DAYS</option>
        <option value="HOURS">HOURS</option>
        <option value="FILES">FILES</option>
      </select>
    </div>
    <div class="form-group">
      <label for="retentionPeriod">Period</label>
      <input type="number" class="form-control" name="retentionPeriod" #retentionPeriod="ngModel" [(ngModel)]="plan.retentionPeriod">
      <small id="retentionPeriod" class="form-text text-muted">OpenStack API Keystone URL</small>
      <div [hidden]="retentionPeriod.valid || retentionPeriod.pristine" class="alert alert-danger">
          Retention period is required
        </div>
    </div>
    <div class="form-group">
      <label for="fileDestination">File Destination</label>
      <select class="form-control"  id="fileDestination"  name="fileDestination" [(ngModel)]="plan.destinationId">
        <option *ngFor="let d of destinations" [ngValue]="d.id">
          {{d.name}}
        </option>
      </select>
      <small id="fileDestination" class="form-text text-muted">OpenStack API Keystone URL</small>
      <div [hidden]="retentionPeriod.valid || retentionPeriod.pristine" class="alert alert-danger">
        A file destination period is required
      </div>
    </div>
    <button type="button" *ngIf="update" class="btn btn-danger" (click)="delete()">Delete</button>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
</div>
